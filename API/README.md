東京の気象情報を api.weather から取得

1,本日から過去５日間の東京の「天気、最高気温、最低気温」を取得して WEB 画面に表示

2,５日間のデータを DB に接続して保存する

3,本日から過去 1 年間の東京の「天気、最高気温、最低気温」を取得して WEB 画面に表示し DB に接続して保存する

補足情報：

・ini_set('max_execution_time', 7200);：PHP の実行時間制限を設定しています。
例：7200 秒（2 時間）に設定されており、スクリプトが実行される際に最大 2 時間の実行を許可します。

・データベース接続情報：データベースへの接続に必要な情報（ホスト、データベース名、ユーザー名、パスワード）が定義されています。

・API の接続情報：WeatherAPI を利用するための API キー、対象の都市（東京）の情報が設定されています。
API の URL は、API キーと都市情報を含んでいます。

・convertWeatherToJapanese 関数：英語の天気情報を日本語に変換する関数です。天気情報を日本語に置き換えるための連想配列を持ち、
引数で与えられた天気情報に対応する日本語表現を返します。

・ループ回数の計算：1 回のループで取得するデータの数（$data_per_page）とループ回数（$total_pages）を計算します。
例：365 日のデータを 1 回のループで 50 日ずつ取得するため、$data_per_pageが50になり、$total_pages が 8 になります。

・バッチ保存のための変数：$batch_weather_data は、API から取得したデータを一時的に格納する配列です。

・API からのデータ取得：ループを通じて API からデータを取得します。キャッシュを使い、同じ日付のデータを複数回取得しないようにしています。
取得したデータを一時的に$api_data_cache に保存します。

・日付が今日以前の場合にバッチ保存用の配列に追加：API から取得した天気情報を日本語表現に変換し、
データベースへの保存用の配列$batch_weather_data に追加します。同時に、画面に表示します。

・バッチ保存：1 回のループで取得したデータをバッチ処理としてデータベースに保存します。

・データベース接続を終了：データベース接続を閉じます。

・ループ内でのデータベースへの保存を避ける手順
API から取得したデータを一時的に変数に格納し、全てのループが終了した後に
まとめてデータベースに保存する。
1 回のループでのデータベースへの保存処理の回数が減り、タイムアウトを回避できる。

注意点：

タイムアウト時間の設定が十分に長い（7200 秒＝ 2 時間）なので、ほとんどの場合問題ありませんが、
API からのデータ取得によって実行時間が 2 時間を超える可能性もあるため、サーバーの状況に応じて適切な値を設定してください。
大量のデータを取得する場合は、API 提供元の利用規約に従って制限を確認してください。
API からのデータ取得をキャッシュすることで、同じ日付のデータを複数回取得するのを防いでいますが、キャッシュを持ちすぎるとメモリを消費する可能性があるため、必要な期間だけキャッシュするように注意してください。
